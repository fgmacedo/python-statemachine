<?xml version="1.0" encoding="UTF-8"?>
<scxml datamodel="ecmascript" initial="s0" name="ScxmlTest175" version="1.0"
	xmlns="http://www.w3.org/2005/07/scxml" xmlns:conf="http://www.w3.org/2005/scxml-conformance"><!--we
	test that delayexpr uses the current value of var1, not its initial value
(If it uses the initial value, event2 will be generated first, before event1.  If it uses the
	current value,
event1 will be raised first.  Succeed if event1 occurs before event2, otherwise fail-->
	<datamodel>
		<data expr="'0s'" id="Var1" />
	</datamodel>
	<state id="s0">
		<onentry>
			<assign expr="'1s'" location="Var1" />
			<send delayexpr="Var1" event="event2" />
			<send delayexpr="'.5s'" event="event1" />
		</onentry>
		<transition event="event1" target="s1" />
		<transition event="event2" target="fail" />
	</state>
	<state id="s1">
		<transition event="event2" target="pass" />
		<transition event="*" target="fail" />
	</state>
	<final id="pass">
		<onentry>
			<log expr="'pass'" label="Outcome" />
		</onentry>
	</final>
	<final id="fail">
		<onentry>
			<log expr="'fail'" label="Outcome" />
		</onentry>
	</final>
</scxml>
